

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Grading Locally &#8212; Otter-Grader  documentation</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link href="_static/css/index.css" rel="stylesheet">
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Grading on Gradescope" href="otter_generate.html" />
    <link rel="prev" title="Student Usage" href="otter_check.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">

<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
</button>

<div id="navbar-menu" class="collapse navbar-collapse">
  <ul id="navbar-main-elements" class="navbar-nav mr-auto">
    <li class="nav-item">
        <a class="nav-link" href="index.html">Home</a>
    </li>
    
    
    <li class="nav-item ">
        <a class="nav-link" href="tutorial.html">Tutorial</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="test_files.html">Test Files</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="otter_assign.html">Distributing Assignments</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="otter_check.html">Student Usage</a>
    </li>
    
    <li class="nav-item active">
        <a class="nav-link" href="">Grading Locally</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="otter_generate.html">Grading on Gradescope</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="pdfs.html">PDF Generation and Filtering</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="otter.html">The Otter API</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="changelog.html">Changelog</a>
    </li>
    
    
  </ul>
  <ul class="navbar-nav ml-auto">
    
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/ucbds-infra/otter-grader" target="_blank" rel="noopener">
          <span><i class="fab fa-github-square"></i></span>
        </a>
      </li>
    
    
  </ul>
</div>
    </nav>
    

    <div class="container-fluid">
      <div class="row">
          
          <div class="col-12 col-md-3 col-xl-2 bd-sidebar">

<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
      
      
      
      
      
      
      
      
        
      
      
      
      
      
      
      
      
      
      
    </ul>

</nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              


<div class="tocsection onthispage"><i class="fas fa-list"></i> On this page</div>
<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#metadata" class="nav-link">Metadata</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#rd-party-exports" class="nav-link">3rd Party Exports</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#metadata-files" class="nav-link">Metadata Files</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#using-the-cli" class="nav-link">Using the CLI</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#basic-usage" class="nav-link">Basic Usage</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#metadata-flags" class="nav-link">Metadata Flags</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#requirements" class="nav-link">Requirements</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#grading-python-scripts" class="nav-link">Grading Python Scripts</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#support-files" class="nav-link">Support Files</a>
        </li>
    
            </ul>
        </li>
    
    </ul>
</nav>

              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
              
              <div>
                
  <div class="section" id="grading-locally">
<h1>Grading Locally<a class="headerlink" href="#grading-locally" title="Permalink to this headline">¶</a></h1>
<p>The command line interface allows instructors to grade notebooks locally by launching Docker containers on the instructor’s machine that grade notebooks and return a CSV of grades and (optionally) PDF versions of student submissions for manually graded questions.</p>
<div class="section" id="metadata">
<h2>Metadata<a class="headerlink" href="#metadata" title="Permalink to this headline">¶</a></h2>
<p>Metadata files and flags are optional, but can be helpful when using the CSVs generated by Otter for grading. When organizing submissions for grading, Otter supports two major categories of exports:</p>
<ul class="simple">
<li><p>3rd party collection exports, or</p></li>
<li><p>instructor-made metadata files</p></li>
</ul>
<p>These two categories are broken down and described below.</p>
<div class="section" id="rd-party-exports">
<h3>3rd Party Exports<a class="headerlink" href="#rd-party-exports" title="Permalink to this headline">¶</a></h3>
<p>If you are using a grading service like Gradescope or an LMS like Canvas to collect submissions, Otter can interpret the export format of these 3rd party services in place of a metadata file. To use a service like Gradescope or Canvas, download the submissions for an assignment, unzip the provided file, and then proceed as described in <a class="reference internal" href="#"><span class="doc">Grading Locally</span></a> using the metadata flag corresponding to your chosen service.</p>
<p>For example, if I had a Canvas export, I would unzip it, <code class="docutils literal notranslate"><span class="pre">cd</span></code> into the unzipped directory, copy my tests to <code class="docutils literal notranslate"><span class="pre">./tests</span></code>, and run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otter</span> <span class="n">grade</span> <span class="o">-</span><span class="n">c</span>
</pre></div>
</div>
<p>to grade the submissions (assuming no extra requirements, no PDF generation, and no support files required).</p>
</div>
<div class="section" id="metadata-files">
<h3>Metadata Files<a class="headerlink" href="#metadata-files" title="Permalink to this headline">¶</a></h3>
<p>If you are not using a service like Gradescope or Canvas to collect submissions, instructors can also create a simple JSON- or YAML-formatted metadata file for their students’ submissions and provide this to Otter.</p>
<p>The strucure of the metadata is quite simple: it is a list of 2-item dictionaries, where each dictionary has a student identifier stored as the <code class="docutils literal notranslate"><span class="pre">identifier</span></code> key and the filename of the student’s submission as <code class="docutils literal notranslate"><span class="pre">filename</span></code>. An example of each is provided below.</p>
<p>YAML format:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">identifier</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
  <span class="nt">filename</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test-nb-0.ipynb</span>
<span class="p p-Indicator">-</span> <span class="nt">identifier</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class="nt">filename</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test-nb-1.ipynb</span>
<span class="p p-Indicator">-</span> <span class="nt">identifier</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
  <span class="nt">filename</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test-nb-2.ipynb</span>
<span class="p p-Indicator">-</span> <span class="nt">identifier</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
  <span class="nt">filename</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test-nb-3.ipynb</span>
<span class="p p-Indicator">-</span> <span class="nt">identifier</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
  <span class="nt">filename</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test-nb-4.ipynb</span>
</pre></div>
</div>
<p>JSON format:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="nt">&quot;identifier&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;test-nb-0.ipynb&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nt">&quot;identifier&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;test-nb-1.ipynb&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nt">&quot;identifier&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nt">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;test-nb-2.ipynb&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nt">&quot;identifier&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="nt">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;test-nb-3.ipynb&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nt">&quot;identifier&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="nt">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;test-nb-4.ipynb&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>A JSON- or YAML-formatted metadata file is specified to Otter using the <code class="docutils literal notranslate"><span class="pre">-j</span></code> or <code class="docutils literal notranslate"><span class="pre">-y</span></code> flag, respectively. Each flag requires a  single argument that corresponds to the path to the metadata file. See the “Basic Usage” section of <a class="reference internal" href="#"><span class="doc">Grading Locally</span></a> for more information.</p>
</div>
</div>
<div class="section" id="using-the-cli">
<h2>Using the CLI<a class="headerlink" href="#using-the-cli" title="Permalink to this headline">¶</a></h2>
<p>Before using the command line utility, you should have</p>
<ul class="simple">
<li><p>written tests for the assignment</p></li>
<li><p>downloaded submissions into a directory</p></li>
</ul>
<p>The grading interface, encapsulated in the <code class="docutils literal notranslate"><span class="pre">otter</span> <span class="pre">grade</span></code> command, runs the local grading process and defines the options that instructors can set when grading. A comprehensive list of flags is provided below.</p>
<table border="1" class="docutils">
<thead>
<tr>
<th>Flag</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-h</code>, <code>--help</code></td>
<td></td>
<td>Show help message and exit</td>
</tr>
<tr>
<td><code>-p</code>, <code>--path</code></td>
<td><code>./</code></td>
<td>Path to directory of submissions</td>
</tr>
<tr>
<td><code>-t</code>, <code>--tests-path</code></td>
<td><code>./tests</code></td>
<td>Path to directory of tests</td>
</tr>
<tr>
<td><code>-o</code>, <code>--output-path</code></td>
<td><code>./</code></td>
<td>Path at which to write output (CSV and directory of PDFs)</td>
</tr>
<tr>
<td><code>-g</code>, <code>--gradescope</code></td>
<td></td>
<td>Indicates a Gradescope export format for submissions</td>
</tr>
<tr>
<td><code>-c</code>, <code>--canvas</code></td>
<td></td>
<td>Indicates a Canvas export format for submissions</td>
</tr>
<tr>
<td><code>-j</code>, <code>--json</code></td>
<td></td>
<td>Path to JSON metadata file</td>
</tr>
<tr>
<td><code>-y</code>, <code>--yaml</code></td>
<td></td>
<td>Path to YAML metadata file</td>
</tr>
<tr>
<td><code>-s</code>, <code>--scripts</code></td>
<td></td>
<td>Indicates that Python scripts are being executed (not IPython notebooks)</td>
</tr>
<tr>
<td><code>--pdf</code></td>
<td></td>
<td>Generate unfiltered PDFs for manual grading</td>
</tr>
<tr>
<td><code>--tag-filter</code></td>
<td></td>
<td>Generate PDFs filtered by cell tags for manual grading</td>
</tr>
<tr>
<td><code>--html-filter</code></td>
<td></td>
<td>Generate PDFs filtered by HTML comments for manual grading</td>
</tr>
<tr>
<td><code>-f</code>, <code>--files</code></td>
<td></td>
<td>Path to any support files needed for execution (e.g. data files)</td>
</tr>
<tr>
<td><code>-v</code>, <code>--verbose</code></td>
<td></td>
<td>Write verbose output to console</td>
</tr>
<tr>
<td><code>-r</code>, <code>--requirements</code></td>
<td><code>./requirements.txt</code></td>
<td>Path to requirements.txt file</td>
</tr>
<tr>
<td><code>--containers</code></td>
<td>4</td>
<td>Number of parallel containers to launch; submissions will be divided evenly among them</td>
</tr>
<tr>
<td><code>--image</code></td>
<td>ucbdsinfra/otter-grader</td>
<td>Docker image on which to grade submissions</td>
</tr>
<tr>
<td><code>--no-kill</code></td>
<td></td>
<td>Prevents containers from being killed after execution for debugging</td>
</tr>
</tbody>
</table><div class="section" id="basic-usage">
<h3>Basic Usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h3>
<p>The simplest usage of the <code class="docutils literal notranslate"><span class="pre">otter</span> <span class="pre">grade</span></code> command is when we have a directory structure as below (and we have <code class="docutils literal notranslate"><span class="pre">cd</span></code>ed into <code class="docutils literal notranslate"><span class="pre">grading</span></code> in the command line) and we don’t require PDFs or additional requirements.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span> <span class="n">grading</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">meta</span><span class="o">.</span><span class="n">yml</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb0</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb1</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb2</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">...</span>
  <span class="o">|</span> <span class="n">tests</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q1</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q2</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q3</span><span class="o">.</span><span class="n">py</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>In the case above, our otter command would be, very simply,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otter</span> <span class="n">grade</span> <span class="o">-</span><span class="n">y</span> <span class="n">meta</span><span class="o">.</span><span class="n">yml</span>
</pre></div>
</div>
<p>Because the submissions are on the current working directory (<code class="docutils literal notranslate"><span class="pre">grading</span></code>), our tests are at <code class="docutils literal notranslate"><span class="pre">./tests</span></code>, and we don’t mind output to <code class="docutils literal notranslate"><span class="pre">./</span></code>, we can use the defualt values of the <code class="docutils literal notranslate"><span class="pre">-p</span></code>, <code class="docutils literal notranslate"><span class="pre">-t</span></code>, and <code class="docutils literal notranslate"><span class="pre">-o</span></code> flags, leaving the only necessary flag the metadata flag. Since we have a YAML metadata file, we specify <code class="docutils literal notranslate"><span class="pre">-y</span></code> and pass the path to the metadata file, <code class="docutils literal notranslate"><span class="pre">./meta.yml</span></code>.</p>
<p>After grader, our directory will look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span> <span class="n">grading</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">final_grades</span><span class="o">.</span><span class="n">csv</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">meta</span><span class="o">.</span><span class="n">yml</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb0</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb1</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb2</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">...</span>
  <span class="o">|</span> <span class="n">tests</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q1</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q2</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q3</span><span class="o">.</span><span class="n">py</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>and the grades for each submission will be in <code class="docutils literal notranslate"><span class="pre">final_grades.csv</span></code>.</p>
<p>If we wanted to generate PDFs for manual grading, we would specify one of the three PDF flags:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otter</span> <span class="n">grade</span> <span class="o">-</span><span class="n">y</span> <span class="n">meta</span><span class="o">.</span><span class="n">yml</span> <span class="o">--</span><span class="n">pdf</span>
</pre></div>
</div>
<p>and at the end of grading we would have</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span> <span class="n">grading</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">final_grades</span><span class="o">.</span><span class="n">csv</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">meta</span><span class="o">.</span><span class="n">yml</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb0</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb1</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb2</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">...</span>
  <span class="o">|</span> <span class="n">manual_submissions</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">nb0</span><span class="o">.</span><span class="n">pdf</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">nb1</span><span class="o">.</span><span class="n">pdf</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">nb2</span><span class="o">.</span><span class="n">pdf</span>
    <span class="o">...</span>
  <span class="o">|</span> <span class="n">tests</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q1</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q2</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q3</span><span class="o">.</span><span class="n">py</span>
    <span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="metadata-flags">
<h3>Metadata Flags<a class="headerlink" href="#metadata-flags" title="Permalink to this headline">¶</a></h3>
<p>The four metadata flags, <code class="docutils literal notranslate"><span class="pre">-g</span></code>, <code class="docutils literal notranslate"><span class="pre">-c</span></code>, <code class="docutils literal notranslate"><span class="pre">-j</span></code>, and <code class="docutils literal notranslate"><span class="pre">-y</span></code>, correspond to different export/metadata file formats, and are optional. Also note that the latter two require you to specify a path to the metadata file. You must specify a metadata flag every time you run <code class="docutils literal notranslate"><span class="pre">otter</span> <span class="pre">grade</span></code>, and you may not specify more than one. For more information about metadata and export formats, see <a class="reference external" href="#metadata">above</a>. If you don’t specify a metadata flag, the CSV file that Otter returns will be primary keyed on the filename of the submission.</p>
</div>
<div class="section" id="requirements">
<h3>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">ucbdsinfra/otter-grader</span></code> Docker image comes preinstalled with the following Python packages and their dependencies:</p>
<ul class="simple">
<li><p>datascience</p></li>
<li><p>jupyter_client</p></li>
<li><p>ipykernel</p></li>
<li><p>matplotlib</p></li>
<li><p>pandas</p></li>
<li><p>ipywidgets</p></li>
<li><p>scipy</p></li>
<li><p>tornado</p></li>
<li><p>nb2pdf</p></li>
<li><p>otter-grader</p></li>
</ul>
<p>If you require any packages not listed above, or among the dependencies of any packages above, you should create a requirements.txt file <em>containing only those packages</em>. If this file is created in the working directory (i.e. <code class="docutils literal notranslate"><span class="pre">./requirements.txt</span></code>), then Otter will automatically find this file and include it. If this file is not at <code class="docutils literal notranslate"><span class="pre">./requirements.txt</span></code>, pass its path to the <code class="docutils literal notranslate"><span class="pre">-r</span></code> flag.</p>
<p>For example, continuining the example above with the package SymPy, I would create a requirements.txt</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span> <span class="n">grading</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">meta</span><span class="o">.</span><span class="n">yml</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb0</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb1</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb2</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">...</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
  <span class="o">|</span> <span class="n">tests</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q1</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q2</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q3</span><span class="o">.</span><span class="n">py</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>that lists only SymPy</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cat requirements.txt
sympy
</pre></div>
</div>
<p>Now my call, using HTML comment filtered PDF generation this time, would become</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otter</span> <span class="n">grade</span> <span class="o">--</span><span class="n">html</span><span class="o">-</span><span class="nb">filter</span>
</pre></div>
</div>
<p>Note the lack of the <code class="docutils literal notranslate"><span class="pre">-r</span></code> flag; since I created my requirements file in the working directory, Otter found it automatically. Also note that I am no longer including a metadata flag; the CSV file will have a <code class="docutils literal notranslate"><span class="pre">file</span></code> column instead of an <code class="docutils literal notranslate"><span class="pre">identifier</span></code> column, primary keying each submission on the filename rather than a provided identifier.</p>
</div>
<div class="section" id="grading-python-scripts">
<h3>Grading Python Scripts<a class="headerlink" href="#grading-python-scripts" title="Permalink to this headline">¶</a></h3>
<p>If I wanted to grade Python scripts instead of IPython notebooks, my call to Otter would only add the <code class="docutils literal notranslate"><span class="pre">-s</span></code> flag. Consider the directory structure below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span> <span class="n">grading</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">meta</span><span class="o">.</span><span class="n">yml</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">sub0</span><span class="o">.</span><span class="n">py</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">sub1</span><span class="o">.</span><span class="n">py</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">sub2</span><span class="o">.</span><span class="n">py</span>
  <span class="o">...</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
  <span class="o">|</span> <span class="n">tests</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q1</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q2</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q3</span><span class="o">.</span><span class="n">py</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>My call to grade these submissions would be</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otter</span> <span class="n">grade</span> <span class="o">-</span><span class="n">sy</span> <span class="n">meta</span><span class="o">.</span><span class="n">yml</span>
</pre></div>
</div>
<p><strong>Note the lack of a PDF flag,</strong> as it doesn’t make sense to convert Python files to PDFs. PDF flags only work when grading IPython Notebooks.</p>
</div>
<div class="section" id="support-files">
<h3>Support Files<a class="headerlink" href="#support-files" title="Permalink to this headline">¶</a></h3>
<p>Some notebooks require support files to run (e.g. data files). If your notebooks require any such files, there are two ways to get them into the container so that they are available to notebooks:</p>
<ul class="simple">
<li><p>specifying paths to the files with the <code class="docutils literal notranslate"><span class="pre">-f</span></code> flag</p></li>
<li><p>putting them into the notebook path</p></li>
</ul>
<p>Suppose that my notebooks in <code class="docutils literal notranslate"><span class="pre">grading</span></code> required <code class="docutils literal notranslate"><span class="pre">data.csv</span></code> in my <code class="docutils literal notranslate"><span class="pre">../data</span></code> directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span> <span class="n">data</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">data</span><span class="o">.</span><span class="n">csv</span>
<span class="o">|</span> <span class="n">grading</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">meta</span><span class="o">.</span><span class="n">yml</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb0</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb1</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb2</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">...</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
  <span class="o">|</span> <span class="n">tests</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q1</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q2</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q3</span><span class="o">.</span><span class="n">py</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>I could pass this data into the container using the call</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otter</span> <span class="n">grade</span> <span class="o">-</span><span class="n">y</span> <span class="n">meta</span><span class="o">.</span><span class="n">yml</span> <span class="o">-</span><span class="n">f</span> <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">data</span><span class="o">.</span><span class="n">csv</span>
</pre></div>
</div>
<p>Or I could move (or copy) <code class="docutils literal notranslate"><span class="pre">data.csv</span></code> into <code class="docutils literal notranslate"><span class="pre">grading</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ mv ../data/data.csv ./
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span> <span class="n">data</span>
<span class="o">|</span> <span class="n">grading</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">data</span><span class="o">.</span><span class="n">csv</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">meta</span><span class="o">.</span><span class="n">yml</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb0</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb1</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">nb2</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">...</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
  <span class="o">|</span> <span class="n">tests</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q1</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q2</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q3</span><span class="o">.</span><span class="n">py</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>and then just run Otter as normal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otter</span> <span class="n">grade</span>
</pre></div>
</div>
<p>All non-notebook files in the notebooks path are copied into all of the containers, so <code class="docutils literal notranslate"><span class="pre">data.csv</span></code> will be made available to all notebooks.</p>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="otter_check.html" title="previous page">Student Usage</a>
    <a class='right-next' id="next-link" href="otter_generate.html" title="next page">Grading on Gradescope</a>

              </div>
              
          </main>
          

      </div>
    </div>

    <script src="_static/js/index.js"></script>
    <footer class="footer">
  <div class="container">
    <p>
          &copy; Copyright 2020, UC Berkeley Division of Data Science and Information.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.<br/>
    </p>
  </div>
</footer>
  </body>
</html>