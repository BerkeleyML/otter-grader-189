

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>PDF Generation and Filtering &#8212; Otter-Grader  documentation</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link href="_static/css/index.css" rel="stylesheet">
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Intercell Seeding" href="seeding.html" />
    <link rel="prev" title="Grading on Gradescope" href="otter_generate.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">

<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
</button>

<div id="navbar-menu" class="collapse navbar-collapse">
  <ul id="navbar-main-elements" class="navbar-nav mr-auto">
    <li class="nav-item">
        <a class="nav-link" href="index.html">Home</a>
    </li>
    
    
    <li class="nav-item ">
        <a class="nav-link" href="tutorial.html">Tutorial</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="test_files.html">Test Files</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="otter_assign.html">Distributing Assignments</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="otter_check.html">Student Usage</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="otter_grade.html">Grading Locally</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="otter_generate.html">Grading on Gradescope</a>
    </li>
    
    <li class="nav-item active">
        <a class="nav-link" href="">PDF Generation and Filtering</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="seeding.html">Intercell Seeding</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="changelog.html">Changelog</a>
    </li>
    
    
  </ul>
  <ul class="navbar-nav ml-auto">
    
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/ucbds-infra/otter-grader" target="_blank" rel="noopener">
          <span><i class="fab fa-github-square"></i></span>
        </a>
      </li>
    
    
  </ul>
</div>
    </nav>
    

    <div class="container-fluid">
      <div class="row">
          
          <div class="col-12 col-md-3 col-xl-2 bd-sidebar">

<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        
      
      
      
      
      
      
    </ul>

</nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              


<div class="tocsection onthispage"><i class="fas fa-list"></i> On this page</div>
<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#cell-filtering" class="nav-link">Cell Filtering</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#cell-tag-filtering" class="nav-link">Cell Tag Filtering</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#html-comment-filtering" class="nav-link">HTML Comment Filtering</a>
        </li>
    
            </ul>
        </li>
    
    </ul>
</nav>

              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
              
              <div>
                
  <div class="section" id="pdf-generation-and-filtering">
<h1>PDF Generation and Filtering<a class="headerlink" href="#pdf-generation-and-filtering" title="Permalink to this headline">¶</a></h1>
<p>When exporting IPython notebooks as PDFs, Otter uses the library nb2pdf that relies on nbpdfexport and chromium to export notebooks without pandoc or LaTeX. This requires that chromium be installed both in the Docker container being used for grading and on the JupyterHub distribution on which students export their notebooks from the <code class="docutils literal notranslate"><span class="pre">Notebook</span></code> API.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Notebook.export</span></code> function encapsulates PDF generation on the student end, and by default filtering is turned on. To generate unfiltered PDFs with <code class="docutils literal notranslate"><span class="pre">Notebook.export</span></code>, set <code class="docutils literal notranslate"><span class="pre">filtering=False</span></code> in your call. To generate unfiltered PDFs from the command line, use the <code class="docutils literal notranslate"><span class="pre">--pdf</span></code> flag when calling <code class="docutils literal notranslate"><span class="pre">otter</span> <span class="pre">grade</span></code>.</p>
<div class="section" id="cell-filtering">
<h2>Cell Filtering<a class="headerlink" href="#cell-filtering" title="Permalink to this headline">¶</a></h2>
<p>nb2pdf supports two different formats for filtering cells when exporting notebooks: using cell tags and using HTML comments.</p>
<div class="section" id="cell-tag-filtering">
<h3>Cell Tag Filtering<a class="headerlink" href="#cell-tag-filtering" title="Permalink to this headline">¶</a></h3>
<p>When generating the PDF (if filtering is indicated by the <code class="docutils literal notranslate"><span class="pre">--tag-filter</span></code> flag or by setting <code class="docutils literal notranslate"><span class="pre">filter_type=&quot;tags&quot;</span></code> in <code class="docutils literal notranslate"><span class="pre">Notebook.export</span></code>), the following cells will be <strong>included</strong> in the export:</p>
<ul class="simple">
<li><p>All Markdown cells</p></li>
<li><p>Code cells that have an image in their output</p></li>
<li><p>All cells tagged with <code class="docutils literal notranslate"><span class="pre">include</span></code></p></li>
</ul>
<p>If you would like to override the behavior above, tag a cell with <code class="docutils literal notranslate"><span class="pre">ignore</span></code> and it will not be included.</p>
</div>
<div class="section" id="html-comment-filtering">
<h3>HTML Comment Filtering<a class="headerlink" href="#html-comment-filtering" title="Permalink to this headline">¶</a></h3>
<p>Alternatively, you can place HTML comments in Markdown cells to capture everything in between them in the output. To start a filtering group, place the comment <code class="docutils literal notranslate"><span class="pre">&lt;!--</span> <span class="pre">BEGIN</span> <span class="pre">QUESTION</span> <span class="pre">--&gt;</span></code> whereever you want to start exporting and place <code class="docutils literal notranslate"><span class="pre">&lt;!--</span> <span class="pre">END</span> <span class="pre">QUESTION</span> <span class="pre">--&gt;</span></code> at the end of the filtering group. Everything capture between these comments will be exported, and everything outside them removed. You can have multiple filtering groups in a notebook.</p>
<p>This filtering behavior is triggered with the <code class="docutils literal notranslate"><span class="pre">--html-filter</span></code> flag or in the default behavior of <code class="docutils literal notranslate"><span class="pre">Notebook.export</span></code> (as the <code class="docutils literal notranslate"><span class="pre">filter_type</span></code> argument defaults to <code class="docutils literal notranslate"><span class="pre">&quot;html&quot;</span></code>).</p>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="otter_generate.html" title="previous page">Grading on Gradescope</a>
    <a class='right-next' id="next-link" href="seeding.html" title="next page">Intercell Seeding</a>

              </div>
              
          </main>
          

      </div>
    </div>

    <script src="_static/js/index.js"></script>
    <footer class="footer">
  <div class="container">
    <p>
          &copy; Copyright 2020, UC Berkeley Division of Data Science and Information.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.<br/>
    </p>
  </div>
</footer>
  </body>
</html>