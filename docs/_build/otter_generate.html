

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Grading on Gradescope &#8212; Otter-Grader  documentation</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link href="_static/css/index.css" rel="stylesheet">
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="PDF Generation and Filtering" href="pdfs.html" />
    <link rel="prev" title="Grading Locally" href="otter_grade.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">

<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
</button>

<div id="navbar-menu" class="collapse navbar-collapse">
  <ul id="navbar-main-elements" class="navbar-nav mr-auto">
    <li class="nav-item">
        <a class="nav-link" href="index.html">Home</a>
    </li>
    
    
    <li class="nav-item ">
        <a class="nav-link" href="tutorial.html">Tutorial</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="test_files.html">Test Files</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="otter_assign.html">Distributing Assignments</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="otter_check.html">Student Usage</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="otter_grade.html">Grading Locally</a>
    </li>
    
    <li class="nav-item active">
        <a class="nav-link" href="">Grading on Gradescope</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="pdfs.html">PDF Generation and Filtering</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="otter.html">The Otter API</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="changelog.html">Changelog</a>
    </li>
    
    
  </ul>
  <ul class="navbar-nav ml-auto">
    
    
  </ul>
</div>
    </nav>
    

    <div class="container-fluid">
      <div class="row">
          
          <div class="col-12 col-md-3 col-xl-2 bd-sidebar">

<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
      
      
      
      
      
      
      
      
      
      
        
      
      
      
      
      
      
      
      
    </ul>

</nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              


<div class="tocsection onthispage"><i class="fas fa-list"></i> On this page</div>
<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#writing-tests-for-gradescope" class="nav-link">Writing Tests for Gradescope</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#using-the-command-line-generator" class="nav-link">Using the Command Line Generator</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#before-using-otter-generate" class="nav-link">Before Using otter generate</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#directory-structure" class="nav-link">Directory Structure</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#usage" class="nav-link">Usage</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h4">
            <a href="#pass-fail-thresholds" class="nav-link">Pass/Fail Thresholds</a>
        </li>
    
        <li class="nav-item toc-entry toc-h4">
            <a href="#overriding-points-possible" class="nav-link">Overriding Points Possible</a>
        </li>
    
        <li class="nav-item toc-entry toc-h4">
            <a href="#showing-autograder-results" class="nav-link">Showing Autograder Results</a>
        </li>
    
            </ul>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#gradescope-results" class="nav-link">Gradescope Results</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#instructor-view" class="nav-link">Instructor View</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#student-view" class="nav-link">Student View</a>
        </li>
    
            </ul>
        </li>
    
    </ul>
</nav>

              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
              
              <div>
                
  <div class="section" id="grading-on-gradescope">
<h1>Grading on Gradescope<a class="headerlink" href="#grading-on-gradescope" title="Permalink to this headline">¶</a></h1>
<p>Otter-Grader also allows instructors to use Gradescope’s autograding system to collect and grade students’ submissions. This section assumes that instructors are familiar with Gradescope’s interface and know how to set up assignments on Gradescope; for more information on using Gradescope, see their <a class="reference external" href="https://www.gradescope.com/help#help-center-item-programming-assignments">help pages</a>.</p>
<div class="section" id="writing-tests-for-gradescope">
<h2>Writing Tests for Gradescope<a class="headerlink" href="#writing-tests-for-gradescope" title="Permalink to this headline">¶</a></h2>
<p>The tests that are used by the Gradescope autograder are the same as those used in other uses of Otter, but there is one important field that is relevant to Gradescope that is not pertinent to any other uses.</p>
<p>As noted in the second bullet <a class="reference external" href="test_files.html#ok-format-caveats">here</a>, the <code class="docutils literal notranslate"><span class="pre">&quot;hidden&quot;</span></code> key of each test case indicates the visibility of that specific test case. If a student passes all tests, they are shown a successful check. If they pass all public tests but fail hidden tests, they are shown a successful check but a second output is shown below that for instructors only, showing the output of the failed test. If students fail a public test, students are shown the output of the failed test and there is no second box.</p>
<p>For more information on how tests are displayed to students, see <a class="reference external" href="#gradescope-results">below</a>.</p>
</div>
<div class="section" id="using-the-command-line-generator">
<h2>Using the Command Line Generator<a class="headerlink" href="#using-the-command-line-generator" title="Permalink to this headline">¶</a></h2>
<p>To use Otter with Gradescope’s autograder, you must first generate a zipfile that you will upload to Gradescope so that they can create a Docker image with which to grade submissions. Otter’s command line utility <code class="docutils literal notranslate"><span class="pre">otter</span> <span class="pre">generate</span></code> allows instructors to create this zipfile from their machines.</p>
<div class="section" id="before-using-otter-generate">
<h3>Before Using <code class="docutils literal notranslate"><span class="pre">otter</span> <span class="pre">generate</span></code><a class="headerlink" href="#before-using-otter-generate" title="Permalink to this headline">¶</a></h3>
<p>Before using <code class="docutils literal notranslate"><span class="pre">otter</span> <span class="pre">generate</span></code>, you should already have</p>
<ul class="simple">
<li><p>written <a class="reference internal" href="test_files.html"><span class="doc">tests</span></a> for the assignment</p></li>
<li><p>created a Gradescope autograder assignment</p></li>
<li><p>have collected extra requirements into a requirements.txt file (see <a class="reference external" href="grade.html#requirements">here</a>).</p></li>
</ul>
</div>
<div class="section" id="directory-structure">
<h3>Directory Structure<a class="headerlink" href="#directory-structure" title="Permalink to this headline">¶</a></h3>
<p>For the rest of this page, assume that we have the following directory structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span> <span class="n">hw00</span><span class="o">-</span><span class="n">dev</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">data</span><span class="o">.</span><span class="n">csv</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">hw00</span><span class="o">-</span><span class="n">sol</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">hw00</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
  <span class="o">|</span> <span class="o">-</span> <span class="n">utils</span><span class="o">.</span><span class="n">py</span>
  <span class="o">|</span> <span class="n">tests</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q1</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q2</span><span class="o">.</span><span class="n">py</span>
    <span class="o">...</span>
  <span class="o">|</span> <span class="n">hidden</span><span class="o">-</span><span class="n">tests</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q1</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|</span> <span class="o">-</span> <span class="n">q2</span><span class="o">.</span><span class="n">py</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Also assume that we have <code class="docutils literal notranslate"><span class="pre">cd</span></code>ed into <code class="docutils literal notranslate"><span class="pre">hw00-dev</span></code>.</p>
</div>
<div class="section" id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h3>
<p>The general usage of <code class="docutils literal notranslate"><span class="pre">otter</span> <span class="pre">generate</span></code> is to create a zipfile at some output path (<code class="docutils literal notranslate"><span class="pre">-o</span></code> flag, default <code class="docutils literal notranslate"><span class="pre">./</span></code>) which you will then upload to Gradescope. <code class="docutils literal notranslate"><span class="pre">otter</span> <span class="pre">generate</span></code> has six optional flags:</p>
<table border="1" class="docutils">
<thead>
<tr>
<th>Flag</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-t</code>, <code>--tests-path</code></td>
<td><code>./tests</code></td>
<td>Path to directory of tests</td>
</tr>
<tr>
<td><code>-o</code>, <code>--output-path</code></td>
<td><code>./</code></td>
<td>Path at which to write the zipfile</td>
</tr>
<tr>
<td><code>-r</code>, <code>--requirements</code></td>
<td><code>./requirements.txt</code></td>
<td>Path to requirements.txt file</td>
</tr>
<tr>
<td><code>--threshold</code></td>
<td></td>
<td>Percentage of pass/fail threshold (as decimal)</td>
</tr>
<tr>
<td><code>--points</code></td>
<td></td>
<td>Number of points to scale assignment to</td>
</tr>
<tr>
<td><code>--show-results</code></td>
<td></td>
<td>Show autograder resutls (score breakdown) to students after grades published</td>
</tr>
</tbody>
</table><p>If you do not specify <code class="docutils literal notranslate"><span class="pre">-t</span></code> or <code class="docutils literal notranslate"><span class="pre">-o</span></code>, then the defaults will be used. If you do not specify <code class="docutils literal notranslate"><span class="pre">-r</span></code>, Otter looks in the working directory for <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> and automatically adds it if found; if it is not found, then it is assumed there are no additional requirements. There is also an optional positional argument that goes at the end of the command, <code class="docutils literal notranslate"><span class="pre">files</span></code>, that is a list of any files that are required for the notebook to execute (e.g. data files, Python scripts).</p>
<p>The simplest usage in our example would be</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otter</span> <span class="n">generate</span>
</pre></div>
</div>
<p>This would create a zipfile with the tests in <code class="docutils literal notranslate"><span class="pre">./tests</span></code> and no extra requirements or files. If we needed <code class="docutils literal notranslate"><span class="pre">data.csv</span></code> in the notebook, our call would instead become</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otter</span> <span class="n">generate</span> <span class="n">data</span><span class="o">.</span><span class="n">csv</span>
</pre></div>
</div>
<p>Note that if we needed the requirements in <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code>, our call wouldn’t change, since Otter automatically found <code class="docutils literal notranslate"><span class="pre">./requirements.txt</span></code>.</p>
<p>Now let’s say that we maintained to different directories of tests: <code class="docutils literal notranslate"><span class="pre">tests</span></code> with public versions of tests and <code class="docutils literal notranslate"><span class="pre">hidden-tests</span></code> with hidden versions. Because I want to grade with the hidden tests, my call then becomes</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otter</span> <span class="n">generate</span> <span class="o">-</span><span class="n">t</span> <span class="n">hidden</span><span class="o">-</span><span class="n">tests</span> <span class="n">data</span><span class="o">.</span><span class="n">csv</span>
</pre></div>
</div>
<p>Now let’s say that I need some functions defined in <code class="docutils literal notranslate"><span class="pre">utils.py</span></code>; then I would add this to the last part of my <code class="docutils literal notranslate"><span class="pre">otter</span> <span class="pre">generate</span></code> call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otter</span> <span class="n">generate</span> <span class="o">-</span><span class="n">t</span> <span class="n">hidden</span><span class="o">-</span><span class="n">tests</span> <span class="n">data</span><span class="o">.</span><span class="n">csv</span> <span class="n">utils</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<div class="section" id="pass-fail-thresholds">
<h4>Pass/Fail Thresholds<a class="headerlink" href="#pass-fail-thresholds" title="Permalink to this headline">¶</a></h4>
<p>The Gradescope generator supports providing a pass/fail threshold. A threshold is passed as a float between 0 and 1 such that if a student receives at least that percentage of points, they will receive full points as their grade and 0 points otherwise.</p>
<p>The threshold is specified with the <code class="docutils literal notranslate"><span class="pre">--threshold</span></code> flag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otter</span> <span class="n">generate</span> <span class="o">-</span><span class="n">t</span> <span class="n">hidden</span><span class="o">-</span><span class="n">tests</span> <span class="n">data</span><span class="o">.</span><span class="n">csv</span> <span class="o">--</span><span class="n">threshold</span> <span class="mf">0.75</span>
</pre></div>
</div>
<p>For example, if a student passes a 2- and 1- point test but fails a 4-point test (a 43%) on a 25% threshold, they will get all 7 points. If they only pass the 1-point test (a 14%), they will get 0 points.</p>
</div>
<div class="section" id="overriding-points-possible">
<h4>Overriding Points Possible<a class="headerlink" href="#overriding-points-possible" title="Permalink to this headline">¶</a></h4>
<p>By default, the number of points possible on Gradescope is the sum of the point values of each test. This value can be overrided, however, to some other value using the <code class="docutils literal notranslate"><span class="pre">--points</span></code> flag, which accepts an integer. Then the number of points awarded will be the provided points value scaled by the percentage of points awarded by the autograder.</p>
<p>For example, if a student passes a 2- and 1- point test but fails a 4-point test, they will receive (2 + 1) / (2 + 1 + 4) * 2 = 0.8571 points out of a possible 2 when <code class="docutils literal notranslate"><span class="pre">--points</span></code> is set to 2.</p>
<p>As an example, the command below scales the number of points to 3:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otter</span> <span class="n">generate</span> <span class="o">-</span><span class="n">t</span> <span class="n">hidden</span><span class="o">-</span><span class="n">tests</span> <span class="n">data</span><span class="o">.</span><span class="n">csv</span> <span class="o">--</span><span class="n">points</span> <span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="section" id="showing-autograder-results">
<h4>Showing Autograder Results<a class="headerlink" href="#showing-autograder-results" title="Permalink to this headline">¶</a></h4>
<p>The generator lastly allows intructors to specify whether or not the stdout of the grading process (anything printed to the console by the grader or the notebook) is shown to students. <strong>The stdout includes a summary of the student’s test results, including the points earned and possible of public <em>and</em> hidden tests, as well as the visibility of tests as indicated by <code class="docutils literal notranslate"><span class="pre">test[&quot;hidden&quot;]</span></code>.</strong></p>
<p>This behavior is turned off by default and can be turned on by passing the <code class="docutils literal notranslate"><span class="pre">--show-results</span></code> flag to <code class="docutils literal notranslate"><span class="pre">otter</span> <span class="pre">generate</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otter</span> <span class="n">generate</span> <span class="o">-</span><span class="n">t</span> <span class="n">hidden</span><span class="o">-</span><span class="n">tests</span> <span class="n">data</span><span class="o">.</span><span class="n">csv</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">results</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">--show-results</span></code> is passed, the stdout will be made available to students <em>only after grades are published on Gradescope</em>. The <a class="reference external" href="#gradescope-results">next section</a> details more about what is included in the stdout.</p>
</div>
</div>
</div>
<div class="section" id="gradescope-results">
<h2>Gradescope Results<a class="headerlink" href="#gradescope-results" title="Permalink to this headline">¶</a></h2>
<p>This section details how results are displayed to students and instructors on Gradescope.</p>
<div class="section" id="instructor-view">
<h3>Instructor View<a class="headerlink" href="#instructor-view" title="Permalink to this headline">¶</a></h3>
<p>Once a student’s submission has been autograder, the Autograder Results page will show the stdout of the grading process in the “Autograder Output” box and the student’s score in the side bar to the right of the output. The stdout includes a DataFrame that contains the student’s score breakdown by question and a summary of the information about test output visibility at the top of this page:</p>
<p><img alt="_images/gradescope_autograder_output.png" src="_images/gradescope_autograder_output.png" /></p>
<p>Below the autograder output, each test case is broken down into boxes. If there is no output for the box, then that test was passed. If a test is failed, then the usual test failure output is displayed.</p>
<p><img alt="_images/gradescope_instructor_test_breakdown.png" src="_images/gradescope_instructor_test_breakdown.png" /></p>
<p>Instructors will be able to see <em>all</em> tests. The visibility of a test to students is indicated to instructors by the <img src="_images/gradescope_hidden_test_icon.png" width="24px"/> icon (all tests with this icon are hidden to students). As noted earlier, if a student passes all public tests for a question but fails a hidden test, two boxes are shown to the instructor, of which only the first is visibile to the student:</p>
<p><img alt="_images/gradescope_failed_hidden_test.png" src="_images/gradescope_failed_hidden_test.png" /></p>
</div>
<div class="section" id="student-view">
<h3>Student View<a class="headerlink" href="#student-view" title="Permalink to this headline">¶</a></h3>
<p>On submission, students will only be able to see the results of those tests for which <code class="docutils literal notranslate"><span class="pre">test[&quot;hidden&quot;]</span></code> evaluates to <code class="docutils literal notranslate"><span class="pre">True</span></code> (see <a class="reference internal" href="test_files.html"><span class="doc">Test Files</span></a> for more info). If <code class="docutils literal notranslate"><span class="pre">test[&quot;hidden&quot;]</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code> or not specified, then <code class="docutils literal notranslate"><span class="pre">test</span></code> is hidden.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">--show-results</span></code> was specified when constructing the autograder zipfile, then the autograder output from above will be shown to students <em>after grades are published on Gradescope</em>. Students will <strong>not</strong> be able to see the results of hidden tests nor the tests themselves, but they will see that they failed some hidden test in the printed DataFrame from the stdout.</p>
<p>Note that, because some tests are hidden, students will never see the autograder score in the right sidebar; instead, their score will only show as a dash <code class="docutils literal notranslate"><span class="pre">-</span></code> out of the points possible. Therefore, the only way for students to calculate their autograder score is to use the DataFrame printed to the stdout if <code class="docutils literal notranslate"><span class="pre">--show-results</span></code> is passed.</p>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="otter_grade.html" title="previous page">Grading Locally</a>
    <a class='right-next' id="next-link" href="pdfs.html" title="next page">PDF Generation and Filtering</a>

              </div>
              
          </main>
          

      </div>
    </div>

    <script src="_static/js/index.js"></script>
    <footer class="footer">
  <div class="container">
    <p>
          &copy; Copyright 2020, UC Berkeley Division of Data Science and Information.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.<br/>
    </p>
  </div>
</footer>
  </body>
</html>